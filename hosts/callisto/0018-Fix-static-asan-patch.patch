From c5786be695224c2d2771854436844b88a6b48fc5 Mon Sep 17 00:00:00 2001
From: James R Larrowe <larrowe.semaj11@gmail.com>
Date: Tue, 20 Aug 2024 13:36:41 -0400
Subject: [PATCH 18/20] Fix static asan patch

---
 scripts/hyprlandStaticAsan.diff | 16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

diff --git a/scripts/hyprlandStaticAsan.diff b/scripts/hyprlandStaticAsan.diff
index e74eb6ab..b352d65d 100644
--- a/scripts/hyprlandStaticAsan.diff
+++ b/scripts/hyprlandStaticAsan.diff
@@ -1,13 +1,13 @@
 diff --git a/CMakeLists.txt b/CMakeLists.txt
-index f54cdf5d..ad7c3e73 100755
+index f26a5c3c..3dfef333 100644
 --- a/CMakeLists.txt
 +++ b/CMakeLists.txt
-@@ -130,6 +130,8 @@ if(CMAKE_BUILD_TYPE MATCHES Debug OR CMAKE_BUILD_TYPE MATCHES DEBUG)
-         message(STATUS "Enabling ASan")
+@@ -143,6 +143,8 @@ if(CMAKE_BUILD_TYPE MATCHES Debug OR CMAKE_BUILD_TYPE MATCHES DEBUG)
+     message(STATUS "Enabling ASan")
  
-         target_link_libraries(Hyprland asan)
-+        pkg_check_modules(ffidep REQUIRED IMPORTED_TARGET libffi)
-+        target_link_libraries(Hyprland ${CMAKE_SOURCE_DIR}/libwayland-server.a PkgConfig::ffidep)
-         target_compile_options(Hyprland PUBLIC -fsanitize=address)
-     endif()
+     target_link_libraries(Hyprland asan)
++    pkg_check_modules(ffidep REQUIRED IMPORTED_TARGET libffi)
++    target_link_libraries(Hyprland ${CMAKE_SOURCE_DIR}/libwayland-server.a PkgConfig::ffidep)
+     target_compile_options(Hyprland PUBLIC -fsanitize=address)
+   endif()
  
-- 
2.45.2

